<div class="container">
  <h2>Lista de Ubicaciones</h2>

  <div style="text-align: left; margin: 1rem 0">
    <button mat-raised-button color="primary" [routerLink]="['/ubicacion/insertarubicacion']">
      ➕ Insertar Ubicación
    </button>
  </div>

  <section class="card-container">
    <div class="col-md-4 mb-4" *ngFor="let location of locations">
      <mat-card class="location-card">
        <mat-card-header>
          <mat-card-title>Ubicación ID: {{ location.id }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <google-map
            [center]="{ lat: location.lat, lng: location.lng }"
            [zoom]="15"
            style="height: 300px; width: 100%;"
          >
            <map-marker [position]="{ lat: location.lat, lng: location.lng }"></map-marker>
          </google-map>
          <div class="location-details">
            <p><strong>Latitud:</strong> {{ location.lat }}</p>
            <p><strong>Longitud:</strong> {{ location.lng }}</p>
            <p><strong>Fecha:</strong> {{ location.fecha | date: 'fullDate' }}</p>
            <p><strong>Hora:</strong> {{ location.hora }}</p>
            <p><strong>GPS:</strong> {{ location.gps || 'No disponible' }}</p>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </section>

  <mat-paginator [length]="locations.length" [pageSize]="3" [pageSizeOptions]="[3, 6, 9]" aria-label="Selecciona página"></mat-paginator>

  <footer class="pt-4 mt-4 border-top text-center small footer-text">
    © 2025 Sistema de Ubicaciones – Proyecto
  </footer>
</div>
